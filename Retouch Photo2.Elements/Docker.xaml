<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:apiContractNotPresent5="http://schemas.microsoft.com/winfx/2006/xaml/presentation?IsApiContractNotPresent(Windows.Foundation.UniversalApiContract,5)"
    xmlns:apiContractPresent5="http://schemas.microsoft.com/winfx/2006/xaml/presentation?IsApiContractPresent(Windows.Foundation.UniversalApiContract,5)"
    xmlns:local="using:Retouch_Photo2.Elements">


    <Style TargetType="local:Docker">
        <Setter Property="MaxWidth" Value="NaN"/>
        <Setter Property="MaxHeight" Value="NaN"/>
        <Setter Property="MinHeight" Value="100"/>
        <Setter Property="HorizontalAlignment" Value="Stretch"/>
        <Setter Property="VerticalAlignment" Value="Bottom"/>
        <Setter Property="BorderThickness" Value="0,1,0,0"/>
        <Setter Property="BorderBrush" Value="{ThemeResource AppStroke}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:Docker">
                    <Grid x:Name="RootGrid" Opacity="0"
                            MaxWidth="{TemplateBinding MaxWidth}"
                            MaxHeight="{TemplateBinding MaxHeight}"
                            MinWidth="{TemplateBinding MinWidth}"
                            MinHeight="{TemplateBinding MinHeight}"
                            HorizontalAlignment="{TemplateBinding HorizontalAlignment}" 
                            VerticalAlignment="{TemplateBinding VerticalAlignment}" 
                            BorderThickness="{TemplateBinding BorderThickness}" 
                            BorderBrush="{TemplateBinding BorderBrush}" 
                            apiContractNotPresent5:Background="{ThemeResource AppBackgroundLight}"
                            apiContractPresent5:Background="{ThemeResource AppAcrylicElementBrush}"
                            >

                        <!--VisualState-->
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="VisualStateGroup">

                                <!--Normal-->
                                <VisualState x:Name="Normal"/>

                                <!--Phone-->
                                <VisualState x:Name="Phone">
                                    <VisualState.Setters>
                                        <Setter Target = "TitleGrid.HorizontalAlignment" Value="Stretch"/>
                                        <Setter Target = "ContentPresenter.HorizontalAlignment" Value="Stretch"/>

                                        <Setter Target = "RootGrid.Opacity" Value="1"/>
                                        <Setter Target = "TranslateTransform.Y" Value="0"/>
                                    </VisualState.Setters>
                                </VisualState>

                                <!--Pad-->
                                <VisualState x:Name="Pad">
                                    <VisualState.Setters>
                                        <Setter Target = "TitleGrid.Width" Value="500"/>
                                        <Setter Target = "ContentPresenter.Width" Value="500"/>

                                        <Setter Target = "RootGrid.Opacity" Value="1"/>
                                        <Setter Target = "TranslateTransform.Y" Value="0"/>
                                    </VisualState.Setters>
                                </VisualState>

                                <!--PC-->
                                <VisualState x:Name="PC">
                                    <VisualState.Setters>
                                        <Setter Target = "TitleGrid.Width" Value="600"/>
                                        <Setter Target = "ContentPresenter.Width" Value="600"/>

                                        <Setter Target = "RootGrid.Opacity" Value="1"/>
                                        <Setter Target = "TranslateTransform.Y" Value="0"/>
                                    </VisualState.Setters>
                                </VisualState>

                                <VisualStateGroup.Transitions>

                                    <!--Normal>Phone-->
                                    <VisualTransition From="Normal" To="Phone" GeneratedDuration="0:0:0.2">
                                        <VisualTransition.GeneratedEasingFunction>
                                            <ExponentialEase Exponent="4.5" EasingMode="EaseOut"/>
                                        </VisualTransition.GeneratedEasingFunction>
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="TitleGrid" Storyboard.TargetProperty="HorizontalAlignment" Duration="0">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="Stretch"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="HorizontalAlignment" Duration="0">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="Stretch"/>
                                            </ObjectAnimationUsingKeyFrames>

                                            <DoubleAnimation Storyboard.TargetName="RootGrid" Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.2">
                                                <DoubleAnimation.EasingFunction>
                                                    <CircleEase EasingMode="EaseOut"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                            <DoubleAnimation Storyboard.TargetName="TranslateTransform" Storyboard.TargetProperty="Y" From="50" To="0" Duration="0:0:0.2">
                                                <DoubleAnimation.EasingFunction>
                                                    <CircleEase EasingMode="EaseOut"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </VisualTransition>
                                    <!--Normal>Pad-->
                                    <VisualTransition From="Normal" To="Pad" GeneratedDuration="0:0:0.2">
                                        <VisualTransition.GeneratedEasingFunction>
                                            <ExponentialEase Exponent="4.5" EasingMode="EaseOut"/>
                                        </VisualTransition.GeneratedEasingFunction>
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="TitleGrid" Storyboard.TargetProperty="Width" Duration="0">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="500"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Width" Duration="0">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="500"/>
                                            </ObjectAnimationUsingKeyFrames>

                                            <DoubleAnimation Storyboard.TargetName="RootGrid" Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.2">
                                                <DoubleAnimation.EasingFunction>
                                                    <CircleEase EasingMode="EaseOut"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                            <DoubleAnimation Storyboard.TargetName="TranslateTransform" Storyboard.TargetProperty="Y" From="50" To="0" Duration="0:0:0.2">
                                                <DoubleAnimation.EasingFunction>
                                                    <CircleEase EasingMode="EaseOut"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </VisualTransition>
                                    <!--Normal>PC-->
                                    <VisualTransition From="Normal" To="PC" GeneratedDuration="0:0:0.2">
                                        <VisualTransition.GeneratedEasingFunction>
                                            <ExponentialEase Exponent="4.5" EasingMode="EaseOut"/>
                                        </VisualTransition.GeneratedEasingFunction>
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="TitleGrid" Storyboard.TargetProperty="Width" Duration="0">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="600"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Width" Duration="0">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="600"/>
                                            </ObjectAnimationUsingKeyFrames>

                                            <DoubleAnimation Storyboard.TargetName="RootGrid" Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.2">
                                                <DoubleAnimation.EasingFunction>
                                                    <CircleEase EasingMode="EaseOut"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                            <DoubleAnimation Storyboard.TargetName="TranslateTransform" Storyboard.TargetProperty="Y" From="50" To="0" Duration="0:0:0.2">
                                                <DoubleAnimation.EasingFunction>
                                                    <CircleEase EasingMode="EaseOut"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </VisualTransition>

                                </VisualStateGroup.Transitions>

                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>


                        <Grid.RenderTransformOrigin>0.5, 0.5</Grid.RenderTransformOrigin>
                        <Grid.RenderTransform>
                            <TranslateTransform x:Name="TranslateTransform" Y="50"/>
                        </Grid.RenderTransform>

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        
                        <Grid x:Name="TitleGrid" Height="Auto" Padding="10,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="3*"/>
                                <ColumnDefinition Width="1*" MaxWidth="100"/>
                            </Grid.ColumnDefinitions>
                            <ContentControl Style="{StaticResource AppIconContentControlStyle}">
                                <ContentControl.Tag>
                                    <ContentControl Template="{TemplateBinding IconTemplate}"/>
                                </ContentControl.Tag>
                                <ContentControl.Content>
                                    <TextBlock x:Name="WritableTextBlock" Text="{TemplateBinding Title}" Style="{StaticResource AppTextBlockStyle}"/>
                                </ContentControl.Content>
                            </ContentControl>
                            <!--
                            <Button x:Name="SecondaryButton" Visibility="Collapsed" Grid.Column="1" HorizontalAlignment="Stretch" Style="{StaticResource AppOutlineButton}">
                            <SymbolIcon Symbol="Cancel"/>               
                            </Button>            
                            -->
                            <Button x:Name="PrimaryButton" Grid.Column="1" HorizontalAlignment="Stretch" Style="{StaticResource AppAccentOutlineButton}">
                                <SymbolIcon Symbol="Accept"/>
                            </Button>
                        </Grid>

                        <Rectangle Grid.Row="1" Height="1" Fill="{TemplateBinding BorderBrush}"/>

                        <ContentPresenter x:Name="ContentPresenter" Grid.Row="2" Content="{TemplateBinding Content}"/>

                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


</ResourceDictionary>